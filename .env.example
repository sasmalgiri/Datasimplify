# ============================================
# DATASIMPLIFY ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env.local and fill in your values
# cp .env.example .env.local

# ============================================
# APP CONFIGURATION
# ============================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=DataSimplify
NODE_ENV=development

# ============================================
# FEATURE FLAGS (Ship in FREE mode)
# ============================================
# Set to 'free' to ship a free public beta with optional modules gated by flags.
NEXT_PUBLIC_APP_MODE=free

# Turn monetization on/off
NEXT_PUBLIC_FEATURE_PRICING=false
NEXT_PUBLIC_FEATURE_PAYMENTS=false

# Optional product modules (turn on later)
NEXT_PUBLIC_FEATURE_PREDICTIONS=false
NEXT_PUBLIC_FEATURE_COMMUNITY=false
NEXT_PUBLIC_FEATURE_SMART_CONTRACT_VERIFIER=false

# Data providers (keep CoinGecko OFF for redistributable-only mode)
NEXT_PUBLIC_FEATURE_COINGECKO=false

# Higher licensing/compliance risk data domains (turn on only if licensed)
NEXT_PUBLIC_FEATURE_DEFI=false
NEXT_PUBLIC_FEATURE_WHALES=false
NEXT_PUBLIC_FEATURE_NFT=false

# Add-in V2: workspace sync, action tokens, snapshots, structured tables
NEXT_PUBLIC_FEATURE_ADDIN_V2=false

# ============================================
# SUPABASE - Database & Auth
# ============================================
# Get these from: https://supabase.com/dashboard
# Project Settings → API

NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================
# PADDLE PAYMENTS
# ============================================
# Get these from: https://vendors.paddle.com

# Sandbox (Testing)
NEXT_PUBLIC_PADDLE_ENVIRONMENT=sandbox
NEXT_PUBLIC_PADDLE_CLIENT_TOKEN=test_xxxxxxxxxxxxxxxx
PADDLE_API_KEY=pdl_test_xxxxxxxxxxxxxxxx
PADDLE_WEBHOOK_SECRET=pdl_ntfset_xxxxxxxxxxxxxxxx

# Price IDs (create in Paddle dashboard)
NEXT_PUBLIC_PADDLE_STARTER_PRICE_ID=pri_01xxxxx
NEXT_PUBLIC_PADDLE_PRO_PRICE_ID=pri_01xxxxx
NEXT_PUBLIC_PADDLE_BUSINESS_PRICE_ID=pri_01xxxxx

# ============================================
# AI PROVIDERS
# ============================================
# Primary: Groq (FREE & FAST)
# Fallback: OpenAI (if Groq fails)

# GROQ (FREE & FAST - Primary)
# Get key at: https://console.groq.com
GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxx
GROQ_MODEL=llama-3.1-70b-versatile

# OpenAI (Paid - Fallback)
# Get key at: https://platform.openai.com
# Used automatically if Groq fails
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o-mini

# Ollama (Local, FREE - for development only)
# Install: curl -fsSL https://ollama.com/install.sh | sh
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_EMBEDDING_MODEL=nomic-embed-text
# OLLAMA_CHAT_MODEL=llama3.2

# ============================================
# DATA SYNC SCHEDULER
# ============================================
# Secret key to protect the sync API endpoint
# Generate with: openssl rand -hex 32
SYNC_SECRET_KEY=your-secure-random-key-here

# ============================================
# CRYPTO DATA APIS (Commercial-Friendly)
# ============================================
# All APIs below are FREE and allow COMMERCIAL USE

# Finnhub (FREE tier: 60 calls/min, Commercial OK)
# Get key at: https://finnhub.io
# Used for: News sentiment, social data
FINNHUB_API_KEY=your_finnhub_api_key_here

# CoinLore (FREE, no key needed, Commercial OK)
# Used for: Market prices, rankings (primary source)
# No configuration needed - works out of the box

# DefiLlama (FREE, no key needed, Commercial OK with attribution)
# Used for: DeFi TVL, yields, protocols
# No configuration needed - works out of the box

# Binance (FREE, no key for public endpoints, Commercial OK)
# Used for: Real-time prices, OHLCV data
# No configuration needed for public data

# Etherscan (FREE tier: 5 calls/sec, Commercial OK)
# Optional: Get key for higher rate limits
ETHERSCAN_API_KEY=your_etherscan_key_here

# ============================================
# COINGECKO ANALYST API (For Display-Only Mode)
# ============================================
# CoinGecko Analyst plan required for commercial use
# Get API key at: https://www.coingecko.com/en/api/pricing
#
# IMPORTANT: CoinGecko data is for DISPLAY ONLY (UI charts/dashboards)
# Do NOT include CoinGecko data in downloads without redistribution license
#
# With Analyst plan:
# - 500 requests/minute
# - 500,000 requests/month
# - Commercial display allowed
# - NO redistribution (downloads) without additional license
#
# To enable CoinGecko display:
# 1. Set COINGECKO_API_KEY below
# 2. Set NEXT_PUBLIC_FEATURE_COINGECKO=true
# 3. Keep NEXT_PUBLIC_COINGECKO_DISPLAY_ONLY=true (default)

COINGECKO_API_KEY=CG-xxxxxxxxxxxxxxxx

# Display-only mode (default: true) - CoinGecko shown in UI but NOT in downloads
NEXT_PUBLIC_COINGECKO_DISPLAY_ONLY=true

# ============================================
# OTHER APIs (Optional)
# ============================================
COINMARKETCAP_API_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# ============================================
# OPTIONAL ENHANCED FEATURES
# ============================================
# These APIs provide additional data sources
# Features work without them but show "Unavailable"

# BittsAnalytics (FREE tier: 100 req/day)
# Used for: Twitter sentiment, social mentions
# Get key at: https://bittsanalytics.com
# BITTS_API_KEY=your_bitts_key_here

# TAAPI.IO (FREE tier: 30 req/day)
# Used for: Advanced technical indicators
# Get key at: https://taapi.io
# TAAPI_API_KEY=your_taapi_key_here

# Dune Analytics (FREE tier: 2,500 credits/month)
# Used for: ETF flows data
# Get key at: https://dune.com/settings/api
# DUNE_API_KEY=your_dune_key_here

# CryptoPanic (FREE tier available)
# Used for: News sentiment analysis
# Get key at: https://cryptopanic.com/developers/api/
# CRYPTOPANIC_API_KEY=your_cryptopanic_key_here

# ============================================
# SECURITY & SECRETS
# ============================================
# Encryption key for storing user API keys at rest (256-bit hex)
# Generate with: openssl rand -hex 32
ENCRYPTION_MASTER_KEY=your-256-bit-hex-key-here

# Secret for Vercel cron jobs
# Generate with: openssl rand -hex 32
CRON_SECRET=your-cron-secret-here

# Secret for cleanup endpoint
# Generate with: openssl rand -hex 32
CLEANUP_SECRET=your-cleanup-secret-here
# Set to 'true' on Vercel Hobby (can't set custom cron headers)
CLEANUP_ALLOW_VERCEL_CRON=false

# Comma-separated admin emails (get full Pro access + /admin dashboard)
ADMIN_EMAILS=admin@yourdomain.com
NEXT_PUBLIC_ADMIN_EMAILS=admin@yourdomain.com

# ============================================
# FASTSPRING PAYMENTS
# ============================================
# Get from FastSpring dashboard → Webhooks
# Set at least one auth method:
FASTSPRING_WEBHOOK_SECRET=your-webhook-secret
# OR use basic auth:
# FASTSPRING_WEBHOOK_USERNAME=your-username
# FASTSPRING_WEBHOOK_PASSWORD=your-password

# ============================================
# RAG FEATURE TOGGLES
# ============================================
# Enable/disable optional RAG features
ENABLE_AI_SUMMARIES=true
ENABLE_SENTIMENT_SIGNALS=true
ENABLE_SMART_MONEY=true
ENABLE_USER_ADAPTATION=true

# ============================================
# BETA MODE
# ============================================
# Set to 'true' for public beta: all features free, no tier checks,
# no credit costs, no download limits. Set to 'false' when activating monetization.
NEXT_PUBLIC_BETA_MODE=true
